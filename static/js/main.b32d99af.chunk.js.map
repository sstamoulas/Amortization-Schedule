{"version":3,"sources":["App.tsx","index.tsx"],"names":["App","props","pastPayments","paymentStorage","startDate","dateStorage","principle","principleStorage","interestRate","interestRateStorage","numberOfPayments","numberOfPaymentsStorage","thousandsSeparator","number","toFixed","replace","localStorage","getItem","JSON","parse","Array","apply","map","String","prototype","valueOf","Date","getMonth","getDate","getFullYear","parseFloat","state","startingDate","monthlyTaxes","extraPayments","this","monthlyInterestRate","monthlyPayment","Math","pow","monthlyInterest","payments","prevDate","prevAmount","prevInterest","prevPrinciple","prevExtra","length","i","newAmount","extra","setMonth","setFullYear","push","lastPayment","date","month","year","className","htmlFor","type","id","value","onChange","e","parsedNumberOfPayments","isNaN","setState","setItem","toString","updateNumberOfPayments","target","step","parsedInterestRate","updateInterestRate","parsedPrinciple","updatePrinciple","updateDate","filter","payment","index","key","newPayments","stringify","updateExtra","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b32d99af.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './App.styles.scss';\n\ninterface Payment {\n  prevDate: Date;\n  prevAmount: number;\n  prevInterest: number;\n  prevPrinciple: number;\n  prevExtra: any;\n}\n\ntype AppState = {\n  startingDate: Date;\n  principle: number;\n  interestRate: string;\n  monthlyTaxes: number;\n  numberOfPayments: number;\n  extraPayments: string[];\n}\n\nclass App extends Component<{}, AppState> {\n  constructor(props: any) {\n    super(props);\n\n    let pastPayments: string[];\n    let paymentStorage: string|null;\n    let startDate: Date;\n    let dateStorage: string|null;\n    let principle: number;\n    let principleStorage: string|null;\n    let interestRate: string;\n    let interestRateStorage: string|null;\n    let numberOfPayments: number;\n    let numberOfPaymentsStorage: string|null;\n\n    paymentStorage = localStorage.getItem('payments');\n    dateStorage = localStorage.getItem('startingDate');\n    principleStorage = localStorage.getItem('principle');\n    interestRateStorage = localStorage.getItem('interestRate');\n    numberOfPaymentsStorage = localStorage.getItem('numberOfPayments');\n\n    if(paymentStorage) {\n      pastPayments = JSON.parse(paymentStorage);\n    }\n    else {\n      pastPayments = Array.apply(null, new Array(360)).map(String.prototype.valueOf, '0');\n    }\n\n    if(dateStorage) {\n      startDate = new Date(dateStorage);\n    }\n    else {\n      startDate = new Date(`${(new Date()).getMonth() + 1}, ${(new Date()).getDate()}, ${(new Date()).getFullYear()}`);\n    }\n\n    if(principleStorage) {\n      principle = parseFloat(principleStorage);\n    }\n    else {\n      principle = 0;\n    }\n\n    if(interestRateStorage) {\n      interestRate = interestRateStorage;\n    }\n    else {\n      interestRate = '0';\n    }\n\n    if(numberOfPaymentsStorage) {\n      numberOfPayments = parseFloat(numberOfPaymentsStorage);\n    }\n    else {\n      numberOfPayments = 0;\n    }\n\n    this.state = {\n      startingDate: startDate,\n      principle: principle,\n      interestRate: interestRate,\n      monthlyTaxes: 292.04,\n      numberOfPayments: numberOfPayments,\n      extraPayments: pastPayments,\n    };\n  }\n\n  thousandsSeparator = (number: number): string => {\n\n    return (number).toFixed(2).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n  }\n\n  render() {\n    let { startingDate, principle, interestRate, monthlyTaxes, numberOfPayments, extraPayments }: AppState = this.state;\n\n    const monthlyInterestRate: number = (parseFloat(interestRate) ?? 0) / 12;\n\n    const monthlyPayment: number = (principle * (monthlyInterestRate * Math.pow(1 + monthlyInterestRate, numberOfPayments)) / (Math.pow(1 + monthlyInterestRate, numberOfPayments) - 1));\n    const monthlyInterest: number = principle * monthlyInterestRate;\n    const monthlyPrinciple: number = monthlyPayment - monthlyInterest;\n    let payments: Payment[] = [{\n      prevDate: startingDate,\n      prevAmount: principle,\n      prevInterest: monthlyInterest,\n      prevPrinciple: monthlyPrinciple,\n      prevExtra: extraPayments[0].length ? extraPayments[0] : 0,\n    }];\n\n    for(let i: number = 1; i < numberOfPayments; i++) {\n      let { prevDate, prevAmount, prevInterest, prevPrinciple, prevExtra }: Payment = payments[i - 1];\n      let newAmount: number = prevAmount - prevPrinciple;\n      let extra;\n\n      if(prevExtra.length) {\n        newAmount -= parseFloat(prevExtra);\n      }\n\n      if(extraPayments[i].length) {\n        extra = extraPayments[i];\n      }\n      else {\n        extra = 0;\n      }\n\n      if(prevDate.getMonth() >= 12) {\n        prevDate.setMonth(0);\n        prevDate.setFullYear(prevDate.getFullYear() + 1);\n      }\n      else {\n        prevDate.setMonth(prevDate.getMonth() + 1);\n      }\n\n      payments.push({\n        prevDate: new Date(`${prevDate.getMonth() + 1}, ${prevDate.getDate()}, ${prevDate.getFullYear()}`),\n        prevAmount: newAmount, \n        prevInterest: ((newAmount * monthlyInterestRate)),\n        prevPrinciple: ((monthlyPayment - (newAmount * monthlyInterestRate))),\n        prevExtra: extra,\n      });\n    }\n\n    let lastPayment = payments[payments.length - 1].prevDate;\n    if(lastPayment.getMonth() >= 12) {\n      lastPayment.setMonth(0);\n      lastPayment.setFullYear(lastPayment.getFullYear() + 1);\n    }\n    else {\n      lastPayment.setMonth(lastPayment.getMonth() + 1);\n    }\n\n    payments[payments.length - 1].prevDate = lastPayment;\n\n    const updateNumberOfPayments = (numberOfPayments: string): void => {\n      let parsedNumberOfPayments = isNaN(parseFloat(numberOfPayments)) ? 0 : parseFloat(numberOfPayments);\n      this.setState({\n        numberOfPayments: parsedNumberOfPayments,\n      })\n\n      localStorage.setItem('numberOfPayments', parsedNumberOfPayments.toString());\n    }\n\n    const updateInterestRate = (interestRate: string): void => {\n      let parsedInterestRate = isNaN(parseFloat(interestRate)) ? '' : interestRate;\n      this.setState({\n        interestRate: parsedInterestRate,\n      })\n\n      localStorage.setItem('interestRate', parsedInterestRate.toString());\n    }\n\n    const updatePrinciple = (principle: string): void => {\n      let parsedPrinciple = isNaN(parseFloat(principle)) ? 0 : parseFloat(principle);\n      this.setState({\n        principle: parsedPrinciple,\n      })\n\n      localStorage.setItem('principle', parsedPrinciple.toString());\n    }\n\n    const updateDate = (date: string): void => {\n      this.setState({\n        startingDate: new Date(date),\n      })\n\n      localStorage.setItem('startingDate', date);\n    }\n\n    const updateExtra = (extra: string, i: number): void => {\n\n      let newPayments = extraPayments.map((payment, index) => {\n        if(i === index) {\n          return extra;\n        }\n\n        return payment;\n      });\n\n      this.setState({\n        extraPayments: newPayments\n      });\n\n      localStorage.setItem('payments', JSON.stringify(newPayments));\n    }\n\n    let date = startingDate.getDate();\n    let month = startingDate.getMonth() + 1;\n    let year = startingDate.getFullYear();\n\n    return (\n      <div className='App'>\n        <div className='container'>\n          <h1 className='text-center my-5'>Amortization Schedule</h1>\n          <div className='table-responsive text-center'>\n            <div className=\"d-flex justify-content-center\">\n              <div className=\"w-50\">\n                <label htmlFor='numberOfPayments' className=\"align-elements\">Number of Payments:</label>\n                <input \n                  type='number' \n                  id='numberOfPayments'\n                  value={numberOfPayments <= 0 ? '' : numberOfPayments} \n                  onChange={(e) => updateNumberOfPayments(e.target.value)} \n                />\n              </div>\n              <div className=\"w-50\">\n                <label htmlFor='interestRate' className=\"align-elements\">Interest Rate:</label>\n                <input \n                  type='number' \n                  id='interestRate'\n                  value={interestRate} \n                  step='0.01'\n                  onChange={(e) => updateInterestRate(e.target.value)} \n                />\n              </div>\n            </div>\n            <div className=\"d-flex justify-content-center\">\n              <div className=\"w-50\">\n                <label htmlFor='principle' className=\"align-elements\">Principle:</label>\n                <input \n                  type='number' \n                  id='principle'\n                  value={principle <= 0 ? '' : principle} \n                  onChange={(e) => updatePrinciple(e.target.value)} \n                />\n              </div>\n              <div className=\"w-50\">\n                <label htmlFor='startingDate' className=\"align-elements\">Starting Date:</label>\n                <input \n                  type='date' \n                  id='startingDate'\n                  value={`${year}-${month < 10 ? `0${month}` : month}-${date < 10 ? `0${date}` : date}`} \n                  onChange={(e) => updateDate(e.target.value)} \n                />\n              </div>\n            </div>\n            <table className='table table-striped table-hover table-sm mb-0'>\n              <thead>\n                <tr>\n                  <th>Date</th>\n                  <th>Left to Pay</th>\n                  <th>Monthly Interest</th>\n                  <th>Monthly Principle</th>\n                  <th>Monthly Extra</th>\n                </tr>\n              </thead>\n              <tbody>\n                {\n                  payments.filter((payment) => payment.prevAmount >= 0).map((payment, index) => (\n                    <tr key={index}>\n                      <td>{`${payment.prevDate.getMonth() + 1}/${payment.prevDate.getDate()}/${payment.prevDate.getFullYear()}`}</td>\n                      <td>${this.thousandsSeparator(parseFloat((payment.prevAmount).toFixed(2)))}</td>\n                      <td>${this.thousandsSeparator(parseFloat((payment.prevInterest).toFixed(2)))}</td>\n                      <td>${this.thousandsSeparator(parseFloat((payment.prevPrinciple).toFixed(2)))}</td>\n                      <td><input type='string' value={extraPayments[index]} onChange={(e) => updateExtra(e.target.value, index)} /></td>\n                    </tr>\n                  ))\n                }\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}